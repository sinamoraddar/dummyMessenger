{"version":3,"sources":["Components/SideBar/SideBarItem/SideBarItem.module.scss","Components/Dashboard/Messenger/ChatList/ChatList.module.scss","Components/SideBar/SideBar.module.scss","Components/Dashboard/DashBoard.module.scss","Components/Dashboard/Messenger/ChatList/ChatItem/ChatItem.module.scss","Components/Dashboard/TabBar/TabBarItem/TabBarItem.module.scss","Components/SideBar/ToggleSideBarButton/ToggleSideBarButton.module.scss","Components/Dashboard/TabBar/TabBar.module.scss","Components/Dashboard/Messenger/Messenger.module.scss","Components/SideBar/Avatar/Avatar.module.scss","Components/Dashboard/Messenger/ChatScreen/MessageItem/MessageItem.module.scss","Utils/channels.js","Components/Dashboard/TabBar/TabBarItem/TabBarItem.js","Components/App/AppContext.js","Components/SideBar/ToggleSideBarButton/ToggleSideBarButton.js","Components/Dashboard/TabBar/TabBar.js","firebase/firebase.js","Components/Dashboard/Messenger/ChatList/ChatItem/ChatItem.js","Components/Loading/Loading.js","Components/Dashboard/Messenger/ChatList/ChatList.js","Components/Dashboard/Messenger/ChatScreen/MessageItem/MessageItem.js","Utils/userInfo.js","Components/Dashboard/Messenger/ChatScreen/ChatScreen.js","Components/Dashboard/Messenger/Messenger.js","Components/Dashboard/Welcome/Welcome.js","Components/Dashboard/ChannelOne/ChannelOne.js","Components/Dashboard/ChannelThree/ChannelThree.js","Components/Dashboard/DashBoard.js","Components/Settings/Settings.js","Components/SideBar/Avatar/Avatar.js","Components/SideBar/SideBarItem/SideBarItem.js","Components/SideBar/SideBar.js","Components/CallScreen/CallScreen.js","Components/App/App.js","serviceWorker.js","index.js","Components/Dashboard/Messenger/ChatScreen/ChatScreen.module.scss"],"names":["module","exports","channels","name","component","path","TabBarItem","homepage","to","onClick","className","styles","tabBarItem","window","location","pathname","isCurrentTab","React","createContext","ToggleSideBarButton","color","AppContext","Consumer","setCurrentView","toggleSideBar","black","TabBar","setCurrentTab","currentTab","tabBar","map","channel","key","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","database","ChatItem","contact","currentChat","setCurrentChat","setCurrentMessengerView","setIsFetchingChatData","useState","lastMessage","setLastMessage","useEffect","collection","doc","userId","get","then","querysnapshot","tempLastMessage","Object","keys","data","length","content","substring","chatItem","isActive","tempChatData","forEach","id","push","sort","a","b","submissionTime","chatId","messages","catch","error","console","log","getChatData","src","profilePic","alt","text","Loading","Fragment","style","position","left","right","top","bottom","margin","ChatList","contactsList","currentMessengerView","filterBy","setFilterBy","chatList","isCurrentMessengerView","isNotCurrentMessengerView","searchInput","type","placeholder","value","onChange","e","target","chatItemContainer","tempContactsList","createChatList","filter","includes","filterContactList","MessageItem","author","chat","deleteMessage","container","profilePicture","lastName","message","deleteButton","messageId","moment","format","userInfo","number","event","delete","tempMessagesList","submitMessage","currentMessage","setCurrentMessage","currentAuthor","tempUuid","uuidv1","tempMessage","valueOf","set","updateCurrentChat","ChatScreen","setContactsList","isFetchingChatData","setCurrentAuthor","slice","updateLastmessage","chatScreen","close","messageScreen","messageContainer","typingArea","friend","welcomeMessage","Messenger","props","querySnapshot","messenger","Welcome","ChannelOne","ChannelThree","DashBoard","currentView","dashboard","isCurrentView","isNotCurrentView","exact","Settings","display","flexDirection","alignItems","justifyContent","width","Avatar","avatar","SideBarItem","icon","isOpen","currentPage","setCurrentPage","sideBarItem","isCurrentPage__opened","isCurrentPage__closed","icon__opened","icon__closed","background","SideBar","setIsOpen","sideBar","toggleButton","CallScreen","setInitialCurrentView","App","Provider","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f156b905.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"sideBarItem\":\"SideBarItem_sideBarItem__8vHkz\",\"isCurrentPage__closed\":\"SideBarItem_isCurrentPage__closed__p9jAj\",\"isCurrentPage__opened\":\"SideBarItem_isCurrentPage__opened__-OSEn\",\"icon\":\"SideBarItem_icon__1r1Ev\",\"icon__opened\":\"SideBarItem_icon__opened__2L7v0\",\"isOpen\":\"SideBarItem_isOpen__1Miil\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchInput\":\"ChatList_searchInput__1M19z\",\"chatList\":\"ChatList_chatList__kTfDG\",\"chatItemContainer\":\"ChatList_chatItemContainer__2ml_5\",\"isCurrentMessengerView\":\"ChatList_isCurrentMessengerView__iAydA\",\"isNotCurrentMessengerView\":\"ChatList_isNotCurrentMessengerView__2vkQe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sideBar\":\"SideBar_sideBar__2fwcD\",\"slideToLeft\":\"SideBar_slideToLeft__1buZe\",\"toggleButton\":\"SideBar_toggleButton__R80kF\",\"isOpen\":\"SideBar_isOpen__1on_M\",\"isCurrentView\":\"SideBar_isCurrentView__ukDSV\",\"isNotCurrentView\":\"SideBar_isNotCurrentView__9eiwq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"DashBoard_dashboard__2cfRe\",\"slideToRight\":\"DashBoard_slideToRight__17lqP\",\"isCurrentView\":\"DashBoard_isCurrentView__2dSL_\",\"isNotCurrentView\":\"DashBoard_isNotCurrentView__14wUC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatItem\":\"ChatItem_chatItem__2BkCU\",\"text\":\"ChatItem_text__3hYlu\",\"isActive\":\"ChatItem_isActive__24FgT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabBarItem\":\"TabBarItem_tabBarItem__1MbIU\",\"isCurrentTab\":\"TabBarItem_isCurrentTab__FU3-b\",\"fillBar\":\"TabBarItem_fillBar__1ZT9V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleSideBar\":\"ToggleSideBarButton_toggleSideBar__14AcP\",\"black\":\"ToggleSideBarButton_black__2kqEb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabBar\":\"TabBar_tabBar__ollAj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messenger\":\"Messenger_messenger__1tXXf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Avatar_avatar__2LfzW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MessageItem_container__3z8nV\",\"message\":\"MessageItem_message__1hngD\",\"profilePicture\":\"MessageItem_profilePicture__1G55h\",\"message--user\":\"MessageItem_message--user__pCx89\",\"appearAnimation--Left\":\"MessageItem_appearAnimation--Left__JAvGz\",\"message--friend\":\"MessageItem_message--friend__-Yjma\",\"appearAnimation--Right\":\"MessageItem_appearAnimation--Right__ID3-M\",\"deleteButton\":\"MessageItem_deleteButton__2S5dC\",\"deleteButton--right\":\"MessageItem_deleteButton--right__1Qwnf\",\"time--user\":\"MessageItem_time--user__U18Oy\",\"time--friend\":\"MessageItem_time--friend__7XEL8\",\"left\":\"MessageItem_left__1Zogv\",\"right\":\"MessageItem_right__281NC\"};","export const channels = [\r\n  {\r\n    name: \"Channel 1\",\r\n    component: \"ChannelOne\",\r\n    path: \"channel1\"\r\n  },\r\n  {\r\n    name: \"Channel 2\",\r\n    component: \"Messenger\",\r\n    path: \"messenger\"\r\n  },\r\n  {\r\n    name: \"Channel 3\",\r\n    component: \"ChannelThree\",\r\n    path: \"channel3\"\r\n  }\r\n];\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"./TabBarItem.module.scss\";\r\n\r\nconst TabBarItem = ({ name, path, homepage }) => {\r\n  return (\r\n    <Link\r\n      to={homepage + path}\r\n      onClick={() => {}}\r\n      className={`${styles.tabBarItem} \r\n      /* set the active styles for the tab if its path */\r\n      ${window.location.pathname === homepage + path && styles.isCurrentTab}`}\r\n    >\r\n      {name}\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default TabBarItem;\r\n","import React from \"react\";\r\n\r\nexport default React.createContext();\r\n","import React from \"react\";\r\nimport AppContext from \"../../App/AppContext\";\r\nimport styles from \"./ToggleSideBarButton.module.scss\";\r\n\r\nconst ToggleSideBarButton = ({ color }) => {\r\n  //   alert(color);\r\n  return (\r\n    <AppContext.Consumer>\r\n      {({ setCurrentView }) => (\r\n        <button\r\n          className={`${styles.toggleSideBar} ${color === \"black\" &&\r\n            styles.black}`}\r\n          onClick={() => setCurrentView(\"sideBar\")}\r\n        >\r\n          &#9776;\r\n        </button>\r\n      )}\r\n    </AppContext.Consumer>\r\n  );\r\n};\r\n\r\nexport default ToggleSideBarButton;\r\n","import React from \"react\";\r\nimport { channels } from \"../../../Utils/channels\";\r\nimport TabBarItem from \"./TabBarItem/TabBarItem\";\r\nimport ToggleSideBarButton from \"../../SideBar/ToggleSideBarButton/ToggleSideBarButton\";\r\nimport styles from \"./TabBar.module.scss\";\r\nconst TabBar = ({ setCurrentTab, currentTab, homepage }) => (\r\n  <header className={styles.tabBar}>\r\n    <nav>\r\n      {channels.map(channel => (\r\n        <TabBarItem\r\n          key={channel.name}\r\n          {...channel}\r\n          setCurrentTab={setCurrentTab}\r\n          currentTab={currentTab}\r\n          homepage={homepage}\r\n        />\r\n      ))}\r\n    </nav>\r\n    <ToggleSideBarButton />\r\n  </header>\r\n);\r\n\r\nexport default TabBar;\r\n","// Firebase App (the core Firebase SDK) is always required and must be listed first\r\nimport * as firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\n// If you enabled Analytics in your project, add the Firebase SDK for Analytics\r\nimport \"firebase/analytics\";\r\n/* firebase configuration  */\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyB6xS5yf1JofwEnHY6ApmUwALoi49MeIdw\",\r\n  authDomain: \"dummymessenger-5fe99.firebaseapp.com\",\r\n  databaseURL: \"https://dummymessenger-5fe99.firebaseio.com\",\r\n  projectId: \"dummymessenger-5fe99\",\r\n  storageBucket: \"dummymessenger-5fe99.appspot.com\",\r\n  messagingSenderId: \"915877512487\",\r\n  appId: \"1:915877512487:web:2460762b4b1ca8ebb79502\",\r\n  measurementId: \"G-1J2D8H4CJ6\"\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nconst database = firebase.firestore();\r\nfirebase.analytics();\r\n\r\n//initialize chats collection\r\n/* database\r\n  .collection(\"users\")\r\n  .get()\r\n  .then(function(querySnapshot) {\r\n    querySnapshot.forEach(function(doc) {\r\n      // doc.data() is never undefined for query doc snapshots\r\n      console.log(doc.id, \" => \", doc.data());\r\n      const tempUUID = uuidv1();\r\n      database\r\n        .collection(\"chats\")\r\n        .doc(doc.id)\r\n        .collection(\"messages\")\r\n        .doc(tempUUID)\r\n        .set([\r\n          {\r\n            messageId: tempUUID,\r\n            author: doc.id,\r\n            content: `\r\n            \r\n    hey there i'm fusing this app for the first time `,\r\n            submissionTime: moment().valueOf()\r\n          }\r\n        ])\r\n        .then(doc => {\r\n          console.log(doc);\r\n        })\r\n        .catch(error => console.log(error));\r\n      // console.log(doc);\r\n      // if (doc.exists) {\r\n      //   console.log(\"Document data:\", doc.data());\r\n      // } else {\r\n      //   // doc.data() will be undefined in this case\r\n      //   console.log(\"No such document!\");\r\n      // }\r\n    });\r\n  })\r\n  .catch(function(error) {\r\n    console.log(\"Error getting document:\", error);\r\n  }); */\r\n\r\nexport { database, firebase as default };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { database } from \"../../../../../firebase/firebase\";\r\nimport styles from \"./ChatItem.module.scss\";\r\n\r\nconst getChatData = (userId, setCurrentChat, contact) => {\r\n  database\r\n    .collection(\"chats\")\r\n    .doc(userId)\r\n    .collection(\"messages\")\r\n    .get()\r\n    .then(querysnapshot => {\r\n      let tempChatData = [];\r\n      querysnapshot.forEach(doc => {\r\n        /* just because we don't need the last message here,we simply ignore it */\r\n        if (doc.id !== \"lastMessage\") tempChatData.push(doc.data());\r\n      });\r\n      tempChatData.sort((a, b) => a.submissionTime - b.submissionTime);\r\n      setCurrentChat({ chatId: userId, contact, messages: tempChatData });\r\n    })\r\n    .catch(error => console.log(error));\r\n};\r\n\r\nconst ChatItem = ({\r\n  contact,\r\n  currentChat,\r\n  setCurrentChat,\r\n  setCurrentMessengerView,\r\n  setIsFetchingChatData\r\n}) => {\r\n  const [lastMessage, setLastMessage] = useState(null);\r\n  useEffect(() => {\r\n    database\r\n      .collection(\"chats\")\r\n      .doc(contact.userId)\r\n      .collection(\"messages\")\r\n      .doc(\"lastMessage\")\r\n      .get()\r\n      .then(querysnapshot => {\r\n        let tempLastMessage = \"\";\r\n        if (Object.keys(querysnapshot.data()).length > 0) {\r\n          // console.log(querysnapshot.data());\r\n          // debugger;\r\n          // console.log(\"lastmessage\", querysnapshot.data());\r\n          tempLastMessage = querysnapshot.data().content;\r\n          if (tempLastMessage.length > 20) {\r\n            tempLastMessage = tempLastMessage.substring(0, 20) + \"...\";\r\n          }\r\n        }\r\n        setLastMessage(tempLastMessage);\r\n      }, []);\r\n  });\r\n  return (\r\n    <div\r\n      className={`${styles.chatItem} ${currentChat &&\r\n        contact.userId === currentChat.userId &&\r\n        styles.isActive}`}\r\n      onClick={() => {\r\n        // alert(\"hi\");\r\n        setIsFetchingChatData(true);\r\n        getChatData(contact.userId, setCurrentChat, contact);\r\n        setCurrentMessengerView(\"chatScreen\");\r\n        // getChatData(contact.userId);\r\n        // console.log(\"messeges\", contact.messages);\r\n      }}\r\n    >\r\n      <img src={contact.profilePic} alt={contact.name} />\r\n      <div className={styles.text}>\r\n        <h4>{contact.name}</h4>\r\n        {/* show the last message */}\r\n        <p>\r\n          {lastMessage}\r\n          {/* {getLastMessage(contact.userId)} */}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatItem;\r\n","import React from \"react\";\r\n\r\nconst Loading = () => (\r\n  <React.Fragment>\r\n    <img\r\n      style={{\r\n        position: \"absolute\",\r\n        left: 0,\r\n        right: 0,\r\n        top: 0,\r\n        bottom: 0,\r\n        margin: \"auto\"\r\n      }}\r\n      src=\"./assets/gifs/loading.svg\"\r\n      alt=\"loading\"\r\n    />\r\n  </React.Fragment>\r\n);\r\nexport default Loading;\r\n","import React, { useState } from \"react\";\r\nimport ChatItem from \"./ChatItem/ChatItem\";\r\nimport Loading from \"../../../Loading/Loading\";\r\nimport styles from \"./ChatList.module.scss\";\r\n\r\nconst createChatList = (\r\n  tempContactsList,\r\n  setCurrentChat,\r\n  currentChat,\r\n  setCurrentMessengerView,\r\n  setIsFetchingChatData\r\n) => {\r\n  // console.log(tempContactsList);\r\n  return tempContactsList.map(contact => (\r\n    <ChatItem\r\n      key={contact.name}\r\n      contact={contact}\r\n      setCurrentChat={setCurrentChat}\r\n      currentChat={currentChat}\r\n      setCurrentMessengerView={setCurrentMessengerView}\r\n      setIsFetchingChatData={setIsFetchingChatData}\r\n    />\r\n  ));\r\n};\r\n\r\nconst filterContactList = (contactsList, filterBy) => {\r\n  // debugger;\r\n  return contactsList.filter(contact => {\r\n    return contact.name.includes(filterBy);\r\n  });\r\n};\r\n\r\nconst ChatList = ({\r\n  contactsList,\r\n  currentChat,\r\n  setCurrentChat,\r\n  currentMessengerView,\r\n  setCurrentMessengerView,\r\n  setIsFetchingChatData\r\n}) => {\r\n  const [filterBy, setFilterBy] = useState(\"\");\r\n  // console.log(\"contactslist\", contactsList);\r\n  return (\r\n    <div\r\n      className={`${styles.chatList} ${\r\n        currentMessengerView === \"chatList\"\r\n          ? styles.isCurrentMessengerView\r\n          : styles.isNotCurrentMessengerView\r\n      }`}\r\n    >\r\n      <div className={styles.searchInput}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search ...\"\r\n          value={filterBy}\r\n          onChange={e => setFilterBy(e.target.value)}\r\n        />\r\n        <img src=\"./assets/icons/magnifying-glass.svg\" alt=\"search here\" />\r\n      </div>\r\n      <div className={styles.chatItemContainer}>\r\n        {contactsList ? (\r\n          createChatList(\r\n            filterContactList(contactsList, filterBy),\r\n            setCurrentChat,\r\n            currentChat,\r\n            setCurrentMessengerView,\r\n            setIsFetchingChatData\r\n          )\r\n        ) : (\r\n          <Loading />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatList;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport styles from \"./MessageItem.module.scss\";\r\nconst MessageItem = ({\r\n  author,\r\n  chat,\r\n  deleteMessage,\r\n  currentChat,\r\n  setCurrentChat\r\n}) => {\r\n  return (\r\n    <div\r\n      className={`${styles.container}\r\n    ${author.name === \"Alex\" ? styles[\"right\"] : styles[\"left\"]}\r\n    `}\r\n    >\r\n      {author.name === \"Alex\" ? (\r\n        <React.Fragment>\r\n          <img\r\n            className={styles.profilePicture}\r\n            src={author.profilePicture}\r\n            alt={`${author.name} ${author.lastName}`}\r\n          />\r\n          <div className={`${styles.message} ${styles[\"message--user\"]}`}>\r\n            {chat.content}\r\n\r\n            <button\r\n              className={`${styles.deleteButton} ${styles[\"deleteButton--right\"]}`}\r\n              onClick={e =>\r\n                deleteMessage(\r\n                  currentChat.chatId,\r\n                  chat.messageId,\r\n                  setCurrentChat,\r\n                  currentChat,\r\n                  e\r\n                )\r\n              }\r\n            >\r\n              <i className=\"icon ion-md-trash\"></i>\r\n            </button>\r\n            <span className={styles[\"time--user\"]}>\r\n              {moment(chat.submissionTime).format(\"YYYY/M/D - HH : mm\")}\r\n            </span>\r\n          </div>\r\n        </React.Fragment>\r\n      ) : (\r\n        <React.Fragment>\r\n          <img\r\n            className={styles.profilePicture}\r\n            src={currentChat.contact.profilePic}\r\n            alt={currentChat.contact.name}\r\n          />\r\n          <div className={`${styles.message} ${styles[\"message--friend\"]}`}>\r\n            {chat.content}\r\n\r\n            <button\r\n              className={styles.deleteButton}\r\n              onClick={e =>\r\n                deleteMessage(\r\n                  currentChat.chatId,\r\n                  chat.messageId,\r\n                  setCurrentChat,\r\n                  currentChat,\r\n                  e\r\n                )\r\n              }\r\n            >\r\n              <i className=\"icon ion-md-trash\"></i>\r\n            </button>\r\n            <span className={styles[\"time--friend\"]}>\r\n              {moment(chat.submissionTime).format(\"YYYY/M/D - HH : mm\")}\r\n            </span>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default MessageItem;\r\n","export const userInfo = {\r\n  lastName: \"Hunter\",\r\n  name: \"Alex\",\r\n  number: \"09123456789\",\r\n  profilePicture:\r\n    \"https://i.pinimg.com/236x/da/bd/70/dabd7011f523c7676c0770eeeff43df4.jpg\"\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport MessageItem from \"./MessageItem/MessageItem\";\r\nimport Loading from \"../../../Loading/Loading\";\r\nimport uuidv1 from \"uuid/v1\";\r\nimport moment from \"moment\";\r\nimport { database } from \"../../../../firebase/firebase\";\r\nimport AppContext from \"../../../App/AppContext\";\r\nimport { userInfo } from \"../../../../Utils/userInfo\";\r\nimport styles from \"./ChatScreen.module.scss\";\r\n\r\n//update the last message document on the messages collection\r\nconst updateLastmessage = currentChat => {\r\n  let lastMessage = {};\r\n  /* get the last message only if the list isn't empty,otherwise set an empty object */\r\n  if (currentChat.messages.length > 0) {\r\n    lastMessage = currentChat.messages.slice(-1)[0];\r\n  }\r\n  database\r\n    .collection(\"chats\")\r\n    .doc(currentChat.chatId)\r\n    .collection(\"messages\")\r\n    .doc(\"lastMessage\")\r\n    .set(lastMessage)\r\n    .then(() => {\r\n      console.log(\"the last message was updated successfully\");\r\n    })\r\n    .catch(error => console.log(error));\r\n};\r\n/* delete the message */\r\nconst deleteMessage = (\r\n  chatId,\r\n  messageId,\r\n  setCurrentChat,\r\n  currentChat,\r\n  event\r\n) => {\r\n  database\r\n    .collection(\"chats\")\r\n    .doc(chatId)\r\n    .collection(\"messages\")\r\n    .doc(messageId)\r\n    .delete()\r\n    .then(() => {\r\n      let tempMessagesList = currentChat.messages.filter(\r\n        message => message.messageId !== messageId\r\n      );\r\n      setCurrentChat({ ...currentChat, messages: tempMessagesList });\r\n    })\r\n    .catch(error => console.log(error));\r\n};\r\n/* update the current chat  */\r\nconst updateCurrentChat = (\r\n  tempMessage,\r\n  currentChat,\r\n  setCurrentChat,\r\n  setCurrentMessage\r\n) => {\r\n  database\r\n    .collection(\"chats\")\r\n    .doc(currentChat.chatId)\r\n    .collection(\"messages\")\r\n    .doc(\"lastMessage\")\r\n    .set(tempMessage)\r\n    .then(() => {\r\n      // setCurrentMessage(\"\");\r\n      setCurrentChat({\r\n        ...currentChat,\r\n        messages: [...currentChat.messages, tempMessage]\r\n      });\r\n    })\r\n    .catch(error => console.log(error));\r\n};\r\n/* submit message functionality */\r\nconst submitMessage = (\r\n  currentMessage,\r\n  setCurrentMessage,\r\n  currentChat,\r\n  setCurrentChat,\r\n  currentAuthor\r\n) => {\r\n  const tempUuid = uuidv1();\r\n  const tempMessage = {\r\n    author: currentAuthor === \"user\" ? 0 : currentChat.chatId,\r\n    content: currentMessage,\r\n    messageId: tempUuid,\r\n    submissionTime: moment().valueOf()\r\n  };\r\n  /* add the submitted message to the firestore */\r\n  // debugger;\r\n  database\r\n    .collection(\"chats\")\r\n    .doc(currentChat.chatId)\r\n    .collection(\"messages\")\r\n    .doc(tempUuid)\r\n    .set(tempMessage)\r\n    .then(() => {\r\n      // alert(\"hi\");\r\n      updateCurrentChat(\r\n        tempMessage,\r\n        currentChat,\r\n        setCurrentChat,\r\n        setCurrentMessage\r\n      );\r\n    })\r\n    .catch(error => console.log(error));\r\n};\r\n\r\nconst ChatScreen = ({\r\n  currentChat,\r\n  setCurrentChat,\r\n  contactsList,\r\n  setContactsList,\r\n  currentMessengerView,\r\n  setCurrentMessengerView,\r\n  isFetchingChatData\r\n}) => {\r\n  const [currentMessage, setCurrentMessage] = useState(\"\");\r\n  const [currentAuthor, setCurrentAuthor] = useState(\"user\");\r\n  /* clear the typing area whenever the chat data changes */\r\n  useEffect(() => {\r\n    setCurrentMessage(\"\");\r\n    /* update the last message if the current chat data is not undefined */\r\n    if (currentChat) {\r\n      updateLastmessage(currentChat);\r\n    }\r\n  }, [currentChat]);\r\n  // debugger;\r\n  return (\r\n    <AppContext.Consumer>\r\n      {data => {\r\n        return (\r\n          <div\r\n            className={`${styles.chatScreen}\r\n        \r\n       ${\r\n         currentMessengerView === \"chatScreen\"\r\n           ? styles.isCurrentMessengerView\r\n           : styles.isNotCurrentMessengerView\r\n       }\r\n         \r\n          `}\r\n          >\r\n            {/* render chat screen only when the currentChat is not null */}\r\n            {isFetchingChatData ? (\r\n              <Loading />\r\n            ) : currentChat ? (\r\n              <React.Fragment>\r\n                <button\r\n                  className={styles.close}\r\n                  onClick={() => {\r\n                    setCurrentChat(null);\r\n                    setCurrentMessengerView(\"chatList\");\r\n                  }}\r\n                >\r\n                  <i className=\"icon ion-md-close\"></i>\r\n                </button>\r\n                <div className={styles.messageScreen}>\r\n                  <div className={styles.messageContainer}>\r\n                    {currentChat.messages.map(chat =>\r\n                      chat.author === 0 ? (\r\n                        <MessageItem\r\n                          key={chat.messageId}\r\n                          author={userInfo}\r\n                          chat={chat}\r\n                          deleteMessage={deleteMessage}\r\n                          currentChat={currentChat}\r\n                          setCurrentChat={setCurrentChat}\r\n                        />\r\n                      ) : (\r\n                        <MessageItem\r\n                          key={chat.messageId}\r\n                          author={currentChat.contact}\r\n                          chat={chat}\r\n                          deleteMessage={deleteMessage}\r\n                          currentChat={currentChat}\r\n                          setCurrentChat={setCurrentChat}\r\n                        />\r\n                      )\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className={styles.typingArea}>\r\n                  <textarea\r\n                    placeholder=\"write a message ...\"\r\n                    onChange={e => setCurrentMessage(e.target.value)}\r\n                    value={currentMessage}\r\n                  />\r\n                  {/* show the send button if only the currentMessage isn't empty */\r\n                  currentMessage && (\r\n                    <button\r\n                      onClick={() => {\r\n                        submitMessage(\r\n                          currentMessage,\r\n                          setCurrentMessage,\r\n                          currentChat,\r\n                          setCurrentChat,\r\n                          currentAuthor\r\n                        );\r\n\r\n                        // data.setTestMessage(currentMessage);\r\n                      }}\r\n                    >\r\n                      <i className=\"icon ion-md-send\"></i>\r\n                    </button>\r\n                  )}\r\n                  <span\r\n                    className={`${styles.currentAuthor} ${currentAuthor ===\r\n                      \"friend\" && styles.friend}`}\r\n                    onClick={() => {\r\n                      setCurrentAuthor(currentAuthor => {\r\n                        return currentAuthor === \"user\" ? \"friend\" : \"user\";\r\n                      });\r\n                    }}\r\n                  >\r\n                    Send as : {currentAuthor}\r\n                  </span>\r\n                </div>\r\n              </React.Fragment>\r\n            ) : (\r\n              <div className={styles.welcomeMessage}>\r\n                welcome , please select a chat to start\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      }}\r\n    </AppContext.Consumer>\r\n  );\r\n};\r\n\r\nexport default ChatScreen;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styles from \"./Messenger.module.scss\";\r\nimport ChatList from \"./ChatList/ChatList\";\r\nimport ChatScreen from \"./ChatScreen/ChatScreen\";\r\n// import { contacts } from \"../../../Utils/contacts\";\r\nimport { database } from \"../../../firebase/firebase\";\r\nconst Messenger = props => {\r\n  // const [chatList, setChatList] = useState({});\r\n  const [isFetchingChatData, setIsFetchingChatData] = useState(false);\r\n  const [currentChat, setCurrentChat] = useState(null);\r\n  const [contactsList, setContactsList] = useState(null);\r\n  const [currentMessengerView, setCurrentMessengerView] = useState(\"chatList\");\r\n  /* update the contactslist whenever the currentChat changes */\r\n  useEffect(() => {\r\n    /* turn isFetchingChatData state to false whenever the chat data is retrieved from\r\n    the server ,AND DON'T DO IT when the object is empty  */\r\n    if (currentChat) {\r\n      if (Object.keys(currentChat).length > 0) {\r\n        setIsFetchingChatData(false);\r\n      }\r\n    }\r\n  }, [currentChat]);\r\n  //fetch the users data\r\n  useEffect(() => {\r\n    database\r\n      .collection(\"users\")\r\n      .get()\r\n      .then(function(querySnapshot) {\r\n        const tempContactsList = [];\r\n        querySnapshot.forEach(function(doc) {\r\n          // doc.data() is never undefined for query doc snapshots\r\n          // console.log(doc.id, \" => \", doc.data());\r\n          tempContactsList.push(doc.data());\r\n        });\r\n        setContactsList(tempContactsList);\r\n      })\r\n      .catch(function(error) {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.messenger}>\r\n      <ChatList\r\n        contactsList={contactsList}\r\n        currentChat={currentChat}\r\n        setCurrentChat={setCurrentChat}\r\n        currentMessengerView={currentMessengerView}\r\n        setCurrentMessengerView={setCurrentMessengerView}\r\n        setIsFetchingChatData={setIsFetchingChatData}\r\n      />\r\n      <ChatScreen\r\n        currentChat={currentChat}\r\n        contactsList={contactsList}\r\n        setCurrentChat={setCurrentChat}\r\n        setContactsList={setContactsList}\r\n        currentMessengerView={currentMessengerView}\r\n        setCurrentMessengerView={setCurrentMessengerView}\r\n        isFetchingChatData={isFetchingChatData}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Messenger;\r\n","import React from \"react\";\r\n\r\nconst Welcome = () => (\r\n  <div className=\"center\">\r\n    Welcome\r\n    <br />\r\n    Please select a part to start\r\n  </div>\r\n);\r\n\r\nexport default Welcome;\r\n","import React from \"react\";\r\n\r\nconst ChannelOne = () => <div className=\"center\">this is the channelOne</div>;\r\n\r\nexport default ChannelOne;\r\n","import React from \"react\";\r\n\r\nconst ChannelThree = () => (\r\n  <div className=\"center\">this is the ChannelThree</div>\r\n);\r\n\r\nexport default ChannelThree;\r\n","import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport styles from \"./DashBoard.module.scss\";\r\nimport TabBar from \"../Dashboard/TabBar/TabBar\";\r\nimport Messenger from \"../Dashboard/Messenger/Messenger\";\r\nimport Welcome from \"../Dashboard/Welcome/Welcome\";\r\nimport ChannelOne from \"../Dashboard/ChannelOne/ChannelOne\";\r\nimport ChannelThree from \"../Dashboard/ChannelThree/ChannelThree\";\r\nimport AppContext from \"../App/AppContext\";\r\n\r\nconst DashBoard = props => {\r\n  return (\r\n    <AppContext.Consumer>\r\n      {({ currentView, setCurrentView, homepage }) => {\r\n        return (\r\n          <main\r\n            className={`${styles.dashboard} ${\r\n              currentView === \"Home\"\r\n                ? styles.isCurrentView\r\n                : styles.isNotCurrentView\r\n            }`}\r\n          >\r\n            {/* <h1>{context.testMessage}</h1> */}\r\n            <TabBar homepage={homepage} />\r\n            {/* <SideBar /> */}\r\n            {/* we add the key prop to let react router differentiate \r\n          between different renders of the same component \r\n          on different routes\r\n        */}\r\n\r\n            <Route path={homepage} exact component={Welcome} />\r\n            <Route path={homepage + \"messenger\"} exact component={Messenger} />\r\n            <Route path={homepage + \"channel1\"} exact component={ChannelOne} />\r\n            <Route\r\n              path={homepage + \"channel3\"}\r\n              exact\r\n              component={ChannelThree}\r\n            />\r\n          </main>\r\n        );\r\n      }}\r\n    </AppContext.Consumer>\r\n  );\r\n};\r\n\r\nexport default DashBoard;\r\n","import React from \"react\";\r\nimport ToggleSideBarButton from \"../SideBar/ToggleSideBarButton/ToggleSideBarButton\";\r\n\r\nconst Settings = () => (\r\n  <div\r\n    style={{\r\n      display: \"flex\",\r\n      flexDirection: \"column-reverse\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      width: \"100%\"\r\n    }}\r\n  >\r\n    <ToggleSideBarButton color={\"black\"} />\r\n    settings goes here\r\n  </div>\r\n);\r\n\r\nexport default Settings;\r\n","import React from \"react\";\r\nimport { userInfo } from \"../../../Utils/userInfo\";\r\nimport styles from \"./Avatar.module.scss\";\r\n\r\nconst Avatar = () => (\r\n  <figure className={styles.avatar}>\r\n    <img src={userInfo.profilePicture} alt=\"Profile\" />\r\n    <figcaption>{userInfo.name}</figcaption>\r\n  </figure>\r\n);\r\n\r\nexport default Avatar;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"./SideBarItem.module.scss\";\r\n\r\nconst SideBarItem = ({\r\n  icon,\r\n  path,\r\n  name,\r\n  isOpen,\r\n  currentPage,\r\n  setCurrentPage,\r\n  setCurrentView\r\n}) => {\r\n  return (\r\n    <Link\r\n      to={path}\r\n      onClick={() => {\r\n        setCurrentPage(name);\r\n        setCurrentView(name);\r\n      }}\r\n      className={`${styles.sideBarItem} ${currentPage === name &&\r\n        (isOpen ? styles.isCurrentPage__opened : styles.isCurrentPage__closed)}\r\n        ${isOpen && styles.isOpen}\r\n        `}\r\n    >\r\n      {isOpen && name}\r\n      <span\r\n        className={`${styles.icon}\r\n        ${isOpen ? styles.icon__opened : styles.icon__closed}`}\r\n        style={{\r\n          background: ` url(./assets/icons/${icon}${\r\n            currentPage === name && isOpen ? `-violet` : \"\"\r\n          }.svg)`\r\n        }}\r\n      ></span>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default SideBarItem;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AppContext from \"../App/AppContext\";\r\nimport Avatar from \"./Avatar/Avatar\";\r\nimport SideBarItem from \"./SideBarItem/SideBarItem\";\r\nimport styles from \"./SideBar.module.scss\";\r\n\r\nconst SideBar = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [currentPage, setCurrentPage] = useState(null);\r\n  useEffect(() => {\r\n    switch (window.location.pathname) {\r\n      case \"/settings\": {\r\n        setCurrentPage(\"Settings\");\r\n\r\n        break;\r\n      }\r\n      case \"/calls\": {\r\n        setCurrentPage(\"Calls\");\r\n\r\n        break;\r\n      }\r\n\r\n      default: {\r\n        setCurrentPage(\"Home\");\r\n\r\n        break;\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <AppContext.Consumer>\r\n      {({ currentView, setCurrentView, homepage }) => (\r\n        <aside\r\n          className={`${styles.sideBar} ${isOpen && styles.isOpen} ${\r\n            currentView === \"sideBar\"\r\n              ? styles.isCurrentView\r\n              : styles.isNotCurrentView\r\n          }`}\r\n        >\r\n          <button\r\n            className={styles.toggleButton}\r\n            onClick={() => setIsOpen(!isOpen)}\r\n          >\r\n            {isOpen ? (\r\n              <React.Fragment>&#215;</React.Fragment>\r\n            ) : (\r\n              <React.Fragment>&#9776;</React.Fragment>\r\n            )}\r\n          </button>\r\n          <Avatar />\r\n          <SideBarItem\r\n            path={homepage}\r\n            icon=\"house\"\r\n            name=\"Home\"\r\n            isOpen={isOpen}\r\n            currentPage={currentPage}\r\n            setCurrentPage={setCurrentPage}\r\n            setCurrentView={setCurrentView}\r\n          />\r\n          <SideBarItem\r\n            path={homepage + \"settings\"}\r\n            icon=\"settings\"\r\n            name=\"Settings\"\r\n            isOpen={isOpen}\r\n            currentPage={currentPage}\r\n            setCurrentPage={setCurrentPage}\r\n            setCurrentView={setCurrentView}\r\n          />\r\n          <SideBarItem\r\n            path={homepage + \"calls\"}\r\n            icon=\"phone-call\"\r\n            name=\"Calls\"\r\n            isOpen={isOpen}\r\n            currentPage={currentPage}\r\n            setCurrentPage={setCurrentPage}\r\n            setCurrentView={setCurrentView}\r\n          />\r\n        </aside>\r\n      )}\r\n    </AppContext.Consumer>\r\n  );\r\n};\r\n\r\nexport default SideBar;\r\n","import React from \"react\";\r\nimport ToggleSideBarButton from \"../SideBar/ToggleSideBarButton/ToggleSideBarButton\";\r\n\r\nconst CallScreen = () => (\r\n  <div\r\n    style={{\r\n      display: \"flex\",\r\n      flexDirection: \"column-reverse\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      width: \"100%\"\r\n    }}\r\n  >\r\n    <ToggleSideBarButton color={\"black\"} /> CallScreen goes here\r\n  </div>\r\n);\r\n\r\nexport default CallScreen;\r\n","import React, { useState } from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport DashBoard from \"../Dashboard/DashBoard\";\nimport Settings from \"../Settings/Settings\";\nimport SideBar from \"../SideBar/SideBar\";\nimport CallScreen from \"../CallScreen/CallScreen\";\nimport AppContext from \"./AppContext\";\nimport \"./App.scss\";\n\nconst setInitialCurrentView = homepage => {\n  /* set the initial state for the currentView based on the url */\n  switch (window.location.pathname) {\n    case homepage + \"settings\": {\n      return \"settings\";\n    }\n    case homepage + \"calls\": {\n      return \"calls\";\n    }\n    default: {\n      return \"Home\";\n    }\n  }\n};\n\nfunction App() {\n  const homepage =\n    process.env.NODE_ENV === \"development\" ? \"/\" : \"/dummyMessenger/\";\n  const [currentView, setCurrentView] = useState(\n    setInitialCurrentView(homepage)\n  );\n\n  return (\n    <AppContext.Provider\n      value={{\n        currentView,\n        setCurrentView,\n        homepage\n      }}\n    >\n      <BrowserRouter>\n        <SideBar />\n        <Switch>\n          <Route path={homepage} exact component={DashBoard} />\n          <Route path={homepage + \"channel1\"} exact component={DashBoard} />\n          <Route path={homepage + \"messenger\"} exact component={DashBoard} />\n          <Route path={homepage + \"channel3\"} exact component={DashBoard} />\n          <Route path={homepage + \"settings\"} exact component={Settings} />\n          <Route path={homepage + \"calls\"} exact component={CallScreen} />\n        </Switch>\n      </BrowserRouter>\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./Components/App/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"typingArea\":\"ChatScreen_typingArea__3btVq\",\"currentAuthor\":\"ChatScreen_currentAuthor__1tpBX\",\"chatScreen\":\"ChatScreen_chatScreen__19WYi\",\"welcomeMessage\":\"ChatScreen_welcomeMessage__2gWNh\",\"messageScreen\":\"ChatScreen_messageScreen__1Yy7r\",\"messageContainer\":\"ChatScreen_messageContainer__2D5Wm\",\"close\":\"ChatScreen_close__VBO2r\",\"isCurrentMessengerView\":\"ChatScreen_isCurrentMessengerView__1JQmj\",\"isNotCurrentMessengerView\":\"ChatScreen_isNotCurrentMessengerView__kQieG\",\"friend\":\"ChatScreen_friend__3CELQ\"};"],"sourceRoot":""}